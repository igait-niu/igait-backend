<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>AI-ASD</title>
		<link href="public/style.css" rel="stylesheet" type="text/css" />
    </head>
    <body>
        <form id="uploadForm">
            <p>Input the front-facing video here:</p>
            <input id="fileInputFront" type="file" name="fileupload" required>
            <p>Input the side facing video here:</p>
            <input id="fileInputSide" type="file" name="fileupload" required>
            <br>
            Email:
            <input id="email" type="text" name="email" required>
            <br>
            Age:
            <input id="age" type="number" name="age" required>
            <br>
            Ethnicity:
            <input id="ethnicity" name="ethnicity" required>
            <br>
            Gender:
            <input id="gender" name="gender" required>
            <br>
            Height:
            <input id="height" name="height" required>
            <br>
            Weight:
            <input id="weight" type="number" name="weight" required>
            <br>
            <button type="submit">Upload File</button>
        </form>

        <script>
            const uploadForm = document.getElementById('uploadForm');
            const fileInputFront = document.getElementById('fileInputFront');
            const fileInputSide = document.getElementById('fileInputSide');

            uploadForm.addEventListener('submit', function (e) {
                e.preventDefault();

                const formData = new FormData();
                formData.append('fileuploadfront', fileInputFront.files[0]);
                formData.append('fileuploadside', fileInputSide.files[0]);
                formData.append('age', document.getElementById('age').value);
                formData.append('ethnicity', document.getElementById('ethnicity').value);
                formData.append('gender', document.getElementById('gender').value);
                formData.append('height', document.getElementById('height').value);
                formData.append('weight', document.getElementById('weight').value);
                formData.append('email', document.getElementById('email').value);

                fetch('https://api.hiibolt.com/api/v1/upload', { method: 'POST', body: formData })
                    .then(response => response.json())
                    .then(data => {
                        ids.push(data);
                        updateTable();
                    })
                .catch(error => {
                    console.error('Error uploading file:', error);
                });
            });
        </script>
    </body>
</html>